name = "vids-downloader"
main = "src/worker/index.ts"
compatibility_date = "2024-01-01"

[build]
command = "npm run build:worker"

[dev]
port = 8787
local_protocol = "http"

[vars]
ENVIRONMENT = "production"

# ============================================
# CLOUDFLARE FREE SERVICES ONLY
# ============================================

# KV Namespace - Video metadata caching (1GB free)
[[kv_namespaces]]
binding = "VIDEO_CACHE"
id = "a795084c95cd4151962e05b9ae3470ac"

# D1 Database - Analytics and error logging (5GB free)
[[d1_databases]]
binding = "ANALYTICS_DB"
database_name = "vids-analytics"
database_id = "4850862f-f0ef-44ed-8900-a7e449862395"
